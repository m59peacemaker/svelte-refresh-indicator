<div class="arrow" style="transform: rotate(90deg); opacity: {{ progressRatio }};">
  <ArrowSide which="left" color="{{ color }}" rotate="{{ rotate }}"/>
  <ArrowSide which="right" color="{{ color }}" rotate="{{ rotate }}"/>
  {{#if progressRatio > 0.3 }}
    <div class="arrow-head-rotate" style="transform: rotate({{ rotate - 136 }}deg);">
      <ArrowHead sizeRatio="{{ (progressRatio - 0.3) / 0.7 }}"/>
    </div>
  {{/if}}
</div>

<script>
import ArrowSide from './ArrowSide.html'
import ArrowHead from './ArrowHead.html'

const COMPLETE_ROTATION = 270

export default {
  data () {
    return {
      color: '#2196f3',
      progressRatio: 1
    }
  },

  computed: {
    rotate: progressRatio => COMPLETE_ROTATION * progressRatio
  },

  components: {
    ArrowSide,
    ArrowHead
  }
}
</script>

<style>

.arrow {
  position: relative;
  height: 100%;
}

.arrow-head-rotate {
  height: 100%;
  width: 100%;
}

</style>
