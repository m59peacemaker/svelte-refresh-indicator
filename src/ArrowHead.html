<span
  class="arrow-head"
  style="
    border-color: {{ styles.borderColor }};
    border-width: {{ styles.borderWidth }}px;
    bottom: {{ styles.bottom }}px;
  "
></span>

<script>
const MAX_BORDER_WIDTH = 6
const MIN_BORDER_WIDTH = 2.2
const BORDER_WIDTH_RANGE = MAX_BORDER_WIDTH - MIN_BORDER_WIDTH

/*
6 => -2
5 => -0.5
4 => 1
3 => 1.9
2.5 => 2.5
2.2 => 2.8
*/
const quadPoly = x => (0.0491 * Math.pow(x, 4))
  - (0.8084 * Math.pow(x, 3))
  + (4.6942 * Math.pow(x, 2))
  - (12.511 * x)
  + 15.091
const calcBottom = borderWidth => Math.round(quadPoly(borderWidth) * 10 + Number.EPSILON ) / 10

export default {
  data () {
    return {
      color: '#2196f3',
      sizeRatio: 1
    }
  },

  computed: {
    styles: (color, sizeRatio) => {
      sizeRatio = Math.min(1, sizeRatio)
      const borderWidth = MIN_BORDER_WIDTH + (sizeRatio * BORDER_WIDTH_RANGE)
      return {
        borderWidth,
        bottom: calcBottom(borderWidth),
        borderColor: `transparent ${color} transparent transparent`
      }
    }
  }
}

</script>

<style>

.arrow-head {
  display: block;
  position: absolute;
  width: 0;
  height: 0;
  border-style: solid;
  border-width: 6px;
  bottom: -2px;
  right: 4px;
  transform: rotate(-20deg);
}

</style>
